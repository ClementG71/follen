---
// Navbar.astro - Barre de navigation sticky
interface Props {
    currentPath?: string;
}

const { currentPath = '/' } = Astro.props;

const navLinks = [
    { label: 'Accueil', href: '/' },
    { label: 'Agriculture', href: '/agriculture' },
    { label: 'Intérieur', href: '/interieur' },
    { label: 'Écologie', href: '/ecologie' },
];
---

<header class="fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100 shadow-sm">
    <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
        <!-- Logo -->
        <a href="/" class="group flex items-center gap-2">
            <div class="w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow">
                <span class="text-white font-bold text-lg">F</span>
            </div>
            <span class="font-bold text-xl text-gray-800 tracking-tight">Follen</span>
        </a>

        <!-- Navigation Links (Desktop) -->
        <ul class="hidden md:flex items-center gap-8">
            {navLinks.map((link) => (
                <li>
                    <a 
                        href={link.href}
                        class:list={[
                            'relative font-medium text-sm uppercase tracking-wider transition-colors duration-200',
                            'hover:text-emerald-600',
                            'after:absolute after:bottom-[-4px] after:left-0 after:w-0 after:h-0.5 after:bg-emerald-500 after:transition-all after:duration-300',
                            'hover:after:w-full',
                            currentPath === link.href ? 'text-emerald-600 after:w-full' : 'text-gray-600'
                        ]}
                    >
                        {link.label}
                    </a>
                </li>
            ))}
        </ul>

        <!-- Mobile Menu Button -->
        <button 
            id="mobile-menu-btn"
            class="md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors"
            aria-label="Menu"
        >
            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden hidden bg-white border-t border-gray-100">
        <ul class="px-6 py-4 space-y-4">
            {navLinks.map((link) => (
                <li>
                    <a 
                        href={link.href}
                        class:list={[
                            'block py-2 font-medium transition-colors',
                            currentPath === link.href ? 'text-emerald-600' : 'text-gray-600 hover:text-emerald-600'
                        ]}
                    >
                        {link.label}
                    </a>
                </li>
            ))}
        </ul>
    </div>
</header>

<!-- Spacer pour compenser le header fixed -->
<div class="h-[72px]"></div>

<script>
    const menuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    menuBtn?.addEventListener('click', () => {
        mobileMenu?.classList.toggle('hidden');
    });
</script>

